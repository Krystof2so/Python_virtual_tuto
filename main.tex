\documentclass[a4paper,12pt]{book}

% ----------------
% --- PACKAGES ---
% ----------------
% Packages de base :
\usepackage[english,francais]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% Packages additionnels :
\usepackage{array}    % Pour des options supplémentaires de formatage de tableau
\usepackage{color}  % pour utiliser des couleurs
\usepackage{fancyhdr}  % Personnalisation en-tête et pied de page
\usepackage{graphicx}
\usepackage[top=2.5cm, bottom=2.5cm, left=2.8cm, right=2.8cm]{geometry} % Pour redimensionner les marges
\usepackage[hyphens]{url}  % Pour insérer des url. l'option 'hyphens' permet de ne pas afficher de barre oblique au niveau de la césure d'une url.
\usepackage{listings}  % Pour définir un environnement de citation de code
\usepackage{mdframed} % Pour utiliser mdframed
\usepackage{newunicodechar} % Pour définir des caractères Unicode
\usepackage{pgfornament} % Pour utiliser les ornements
\usepackage{tabularx} % Pour les tableaux ajustables
\usepackage{times} % Pour utiliser la police Times New Roman
\usepackage{titlesec} % Pour personnaliser les titres de chapitre
\usepackage{verbatim}  % pour les citations de code
\usepackage{xcolor}  % pour utiliser des couleurs
\usepackage{xurl}  % pour gérer la césure des urls.
\usepackage{zi4} % Pour une police spéciale 'code' dans l'environnement 'verbatim', 'lstlisting' et 'texttt'.

% Placer en dernier :
\usepackage{hyperref}


% ------------------------------------
% --- CARACTERISTIQUES DU DOCUMENT ---
% ------------------------------------
% Définir l'espace entre les paragraphes :
\setlength{\parskip}{1em} % Ajoute un espace de 1em entre les paragraphes

% Définir les caractères spéciaux :
\DeclareUnicodeCharacter{2502}{|} % |
\DeclareUnicodeCharacter{251C}{\textbackslash} % ├
\DeclareUnicodeCharacter{2500}{-} % ─
\DeclareUnicodeCharacter{2514}{\textbackslash} % └


% ------------------------------
% --- DEFINITION DE COULEURS ---
% ------------------------------
% Pour le code Python (script) :
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{codegreen}{rgb}{0,0.6,0}

% Pour le terminal :
\definecolor{terminalbackground}{HTML}{6F6F6F} % Fond gris
\definecolor{terminaltext}{HTML}{8FBCBB} % Texte vert
\definecolor{terminalprompt}{HTML}{FF8700} % Prompt orange

% Définir les couleurs bleu et jaune du logo Python :
\definecolor{pythonblue}{RGB}{54,117,171}
\definecolor{pythonyellow}{RGB}{220,176,30}


% -------------------------------------------
% --- ENVIRONNEMENTS (LSTLISTING) DE CODE ---
% -------------------------------------------
% Environnement pour du code Python :
\lstset{
    language=Python,
    aboveskip=5mm,  % Marge avant l'insertion du code
    belowskip=5mm,  % Marge après l'insertion du code
    backgroundcolor=\color{backcolour},
    keywordstyle=\color{red}, % Couleur mots clés
    commentstyle=\color{olive}, % Coleur commentaires  
    stringstyle=\color{codegreen},  % Style des strings
    basicstyle=\small, % Taille police
    basicstyle=\ttfamily, % Style police
    numbers=left, % Numéros de ligne à gauche
    numberstyle=\scriptsize, % Taille numéros de ligne 
    numbersep=10pt, % Espace entre numéro de ligne et code
    showspaces=false,  % Voir les espaces             
    showstringspaces=false,  % Voir les espaces des strings
    showtabs=false,  % Voir les tabulations               
    tabsize=4,  % Tabulations
    frame=tb,  % Cadre en haut et en bas
    rulecolor=\color{gray},  % Couleur du cadre 
    captionpos=b,  % Position de la légende du code
    literate= % Pour une gestion de l'utf8
        {â}{{\^a}}1 {à}{{\`a}}1 {ç}{{\c c}}1 {é}{{\'e}}1
        {è}{{\`e}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1
        {É}{{\`E}}1
        {Ò}{{\`O}}1
}

% Environnement pour imiter un terminal :
\lstdefinestyle{terminal}{
    backgroundcolor=\color{terminalbackground}, % Fond gris foncé
    basicstyle=\ttfamily\color{terminaltext}, % Police à chasse fixe et texte vert
    keywordstyle=\color{terminalprompt}, % Mots-clés en orange
    commentstyle=\color{white}, % Commentaires en blanc
    numbers=none, % Pas de numéros de ligne
    frame=none, % Pas de cadre
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    breaklines=true, % Retour à la ligne automatique
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space}, % Indicateur de retour à la ligne
    escapeinside={|}{|} % Utiliser pour échapper à LaTeX
}


% --------------------------------------
% --- TITRE ET EN-TETE DES CHAPITRES ---
% --------------------------------------
% Personnaliser les titres des chapitres avec un cadre
\titleformat{\chapter}[frame]
  {\normalfont\Huge\bfseries\color{pythonblue}}
  {\textcolor{pythonyellow}{}\ \textcolor{pythonyellow}{\thechapter}}
  {25pt}
  {\Huge\centering}

% Définir une commande personnalisée pour la citation :
\newcommand{\insertcitation}[2]{%
    \hfill % Pousse le minipage vers la droite
    \begin{minipage}{0.5\textwidth}
        \begin{mdframed}[
            linewidth=0.5pt, % Épaisseur de la bordure
            roundcorner=5pt, % Coins arrondis
            shadow=false, % Pas d'ombre
            shadowsize=0pt, % Taille de l'ombre
            backgroundcolor=gray!10, % Fond gris clair
            frametitleaboveskip=0pt, % Pas d'espace au-dessus du titre
            frametitlebelowskip=0pt, % Pas d'espace en dessous du titre
            frametitlebackgroundcolor=white, % Fond du titre blanc
            frametitlerule=true, % Ligne de titre
            frametitlefont=\normalfont, % Police du titre normale
            frametitlealignment=\raggedright % Alignement du titre à gauche
        ]
        \textit{``#1''} \\
        \textmd{--- #2}
        \end{mdframed}
    \end{minipage}
}


% ----------------------
% --- TITRE DU LIVRE ---
% ----------------------
\title{Environnements de programmation Python, et les outils dédiés}


% -------------------------
% --- DEBUT DU DOCUMENT ---
% -------------------------
\begin{document}

% Page de garde :
\begin{titlepage}
    \begin{center}
        \vspace*{1cm}

        \begin{mdframed}[
            backgroundcolor=gray!35,
            linewidth=1.5pt,
            roundcorner=6pt,
        ]
            \centering
            \vspace*{1cm}

            \textbf{\Huge \fontfamily{ptm}\selectfont Environnements de programmation Python, et les outils dédiés}

            \vspace*{2cm}

            \includegraphics[width=0.6\textwidth]{IMG/python-logo.png} % Remplacez par le chemin de votre image

            \vspace*{8cm}

            \Large Krystof26

            \vspace*{0.5cm}

            \Large \today

            \vspace*{1cm}
        \end{mdframed}

    \end{center}
\end{titlepage}

% Préface :
\include{chapters/preface.tex}

% Table des matières :
\tableofcontents

% Inclusion des chapitres :
\include{chapters/chapter_env_virtuals.tex}
\include{chapters/chapter_virtualenv.tex}
\include{chapters/chapter_pip.tex}
\include{chapters/chapter_pyenv.tex}
\include{chapters/chapter_poetry.tex}
\include{chapters/chapter_uv.tex}

\end{document}
